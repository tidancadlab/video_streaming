<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div>
        <input type="file" id="file" onchange="onUpload(event)" />
        <button id="btn">upload</button>
        <hr>
        <video id="player" controls width="80%" autoplay></video>
        <p id="bitrate"></p>
        <select id="videos">
            <option selected value="http://localhost:5500/video/mission/master.m3u8">mission</option>
            <option value="http://localhost:5500/video/mission1/master.m3u8">mission1</option>
            <option value="http://localhost:5500/video/mission2/master.m3u8">mission2</option>
            <option value="http://localhost:5500/video/mission3/master.m3u8">mission3</option>
            <option value="http://localhost:5500/video/mission4/master.m3u8">mission4</option>
            <option value="http://localhost:5500/video/mission5/master.m3u8">mission5</option>
            <option value="https://content.jwplatform.com/manifests/vM7nH0Kl.m3u8">Rendom</option>
            <option value="http://sample.vodobox.net/skate_phantom_flex_4k/skate_phantom_flex_4k.m3u8">Rendom1</option>
        </select>
        <ul id="list"></ul>
    </div>
    <script src="./JS/index.js"></script>
    <script src="./JS/hls.js"></script>
    <script>
        const player = document.querySelector('#player')
        const rate = document.querySelector('#bitrate')
        const videoList = document.querySelector('#videos')
        const hls = new Hls()
        videoList.addEventListener('change', (e) => {
            hls.loadSource(e.target.value)
            console.log(e.target.value)
        })
        hls.attachMedia(player)
        setInterval(() => {
            rate.textContent = (hls.bandwidthEstimate / 1024 / 1024 / 10).toFixed(2) + " mb"
        }, 1000)
    </script>
</body>

</html>